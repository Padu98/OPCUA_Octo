{
    "modulesContent": {
        "$edgeAgent": {
            "properties.desired": {
                "modules": {
                    "discovery": {
                        "settings": {
                            "image": "mcr.microsoft.com/iotedge/discovery:2.7.206",
                            "createOptions": "{\"NetworkingConfig\":{\"EndpointsConfig\":{\"host\":{}}},\"HostConfig\":{\"NetworkMode\":\"host\",\"CapAdd\":[\"NET_ADMIN\"]}}"
                        },
                        "type": "docker",
                        "version": "1.0",
                        "status": "running",
                        "restartPolicy": "always"
                    },
                    "twin": {
                        "settings": {
                            "image": "mcr.microsoft.com/iotedge/opc-twin:2.7.206",
                            "createOptions": ""
                        },
                        "type": "docker",
                        "version": "1.0",
                        "status": "running",
                        "restartPolicy": "always"
                    },
                    "publisher": {
                        "settings": {
                            "image": "mcr.microsoft.com/iotedge/opc-publisher:2.7.206",
                            "createOptions": "{\"Hostname\":\"OPCPublisher\",\"Cmd\":[\"PkiRootPath=/appdata/pki\",\"--lf=/appdata/publisher.log\",\"--pf=/appdata/publishednodes.json\",\"--aa\",\"--di=60\",\"--me=Json\",\"--mm=PubSub\",\"--ll=debug\"],\"HostConfig\":{\"Binds\":[\"/c/IoTEdgeMapping:/appdata\"]}}"
                        },
                        "type": "docker",
                        "version": "1.0",
                        "status": "running",
                        "restartPolicy": "always"
                    },
                    "edgeJob1": {
                        "settings": {
                            "image": "mcr.microsoft.com/azure-stream-analytics/azureiotedge:1.0.10",
                            "createOptions": ""
                        },
                        "type": "docker",
                        "version": "1.0.0.0",
                        "env": {
                            "PlanId": {
                                "value": "stream-analytics-on-iot-edge"
                            }
                        },
                        "status": "running",
                        "restartPolicy": "always"
                    }
                },
                "runtime": {
                    "settings": {
                        "minDockerVersion": "v1.25"
                    },
                    "type": "docker"
                },
                "schemaVersion": "1.1",
                "systemModules": {
                    "edgeAgent": {
                        "settings": {
                            "image": "mcr.microsoft.com/azureiotedge-agent:1.2",
                            "createOptions": ""
                        },
                        "type": "docker"
                    },
                    "edgeHub": {
                        "settings": {
                            "image": "mcr.microsoft.com/azureiotedge-hub:1.2",
                            "createOptions": "{\"HostConfig\":{\"PortBindings\":{\"443/tcp\":[{\"HostPort\":\"443\"}],\"5671/tcp\":[{\"HostPort\":\"5671\"}],\"8883/tcp\":[{\"HostPort\":\"8883\"}]}}}"
                        },
                        "type": "docker",
                        "status": "running",
                        "restartPolicy": "always"
                    }
                }
            }
        },
        "$edgeHub": {
            "properties.desired": {
                "routes": {
                    "twinToUpstream": "FROM /messages/modules/twin/* INTO $upstream",
                    "discoveryToUpstream": "FROM /messages/modules/discovery/* INTO $upstream",
                    "leafToUpstream": "FROM /messages/* WHERE NOT IS_DEFINED($connectionModuleId) INTO $upstream",
                    "route": "FROM /* INTO $upstream",
                    "publisherToAsa": "FROM /messages/modules/publisher/* INTO BrokeredEndpoint(\"/modules/edgeJob1/inputs/EdgeInput\")",
                    "AsaToCloud": "FROM /messages/modules/edgeJob1/* INTO $upstream"
                },
                "schemaVersion": "1.1",
                "storeAndForwardConfiguration": {
                    "timeToLiveSecs": 7200
                }
            }
        },
        "discovery": {
            "properties.desired": {}
        },
        "twin": {
            "properties.desired": {}
        },
        "publisher": {
            "properties.desired": {}
        },
        "edgeJob1": {
            "properties.desired": {
                "ASAJobInfo": "https://storage533vpf.blob.core.windows.net/asa-edge-2968bbb9-3de9-4a26-9b1a-a88d3dfac854/ASAEdgeJobs/2968bbb9-3de9-4a26-9b1a-a88d3dfac854/bf3cfdb7-7af7-4f8f-bc88-404c7d797099/ASAEdgeJobDefinition.zip?sv=2018-03-28&sr=b&sig=XMr7cHlC%2FaJd8hh4y3Z4sgOdRl%2F1T8KhUgOFdsphmTc%3D&st=2021-12-08T18%3A28%3A37Z&se=2024-12-08T18%3A38%3A37Z&sp=r",
                "ASAJobResourceId": "/subscriptions/1f92fd26-4bb3-4a5c-84e3-493ae964dbbb/resourceGroups/ConFactory/providers/Microsoft.StreamAnalytics/streamingjobs/edgeJob1",
                "ASAJobEtag": "0ab8a2df-83cf-4189-8675-b87403120104",
                "PublishTimestamp": "12/8/2021 6:38:37 PM"
            }
        }
    }
}